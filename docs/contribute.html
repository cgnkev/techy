<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Techy / Contribute</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./../public/font-awesome-4.0.3/css/font-awesome.min.css">
    <link rel="stylesheet" href="./../public/styles.css">
    <link rel="stylesheet" href="./../public/prism/prism.css" />
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,800,700' type='text/css'>
    <link rel="shortcut icon" type="image/png" href="./../public/img/favicon.png" />
    <meta property="og:image" content="http://krasimir.github.io/techy/public/img/techy.jpg" />
    <meta property="og:title" content="Techy - The geeky way of writing" />
    <meta property="og:url" content="http://krasimir.github.io/techy/" />
    <meta property="og:site_name" content="Techy - The geeky way of writing" />
</head>

<body>
    <div class="techy">
        <h1 id="contribute-br-small-i-class-fa-fa-arrow-circle-o-left-i-documentation-small-">Contribute<br /><small><a href="./"><i class="fa fa-arrow-circle-o-left"></i> Documentation</a></small></h1>
        <hr>
        <p>The following page aims to introduce you to the code of Techy. How it works and how it could be develop.</p>
        <h2 id="flow">Flow</h2>
        <p>The entry point of the module is <code class="language-javascript">lib/index.js</code>. There is one main class called <code class="language-javascript">Techy</code> which is exported. By default the class is immediately invoked by the following
            code:</p>
        <pre><code class="language-javascript">if(!module.parent) {
    Techy(false, false, function() {
        this.watchFiles();
    });
}
</code></pre>
        <p>There are few functions which are run one after each other in the following sequence:</p>
        <div class="grid">
            <ul>
                <li><code class="language-javascript">copyingDefaultFiles</code> - copies the <code class="language-javascript">_css</code>, <code class="language-javascript">_js</code>, <code class="language-javascript">_tpl</code> and <code class="language-javascript">public</code> folders
                    to the root of the project</li>
                <li><code class="language-javascript">setMasterConfig</code> - loads <code class="language-javascript">TechyFile.js</code> file and reads the options inside</li>
                <li><code class="language-javascript">creatingDestFolder</code> - making the destination directory (<code class="language-javascript">dist</code> by default)</li>
                <li><code class="language-javascript">compileCSS</code> - compiles the CSS to the <code class="language-javascript">public</code> directory</li>
                <li><code class="language-javascript">compileJS</code> - compiles the JS to the <code class="language-javascript">public</code> directory</li>
                <li><code class="language-javascript">compilePages</code> - fires compilation of the pages</li>
                <li><code class="language-javascript">copyingPublicFiles</code> - copies all the non underscore prefixed folders to the destination directory</li>
                <li><code class="language-javascript">watchFiles</code> - start watching for changes</li>
            </ul>
        </div>
        <p>There is a <code class="language-javascript">lib/Factory.js</code> file. That's the file which contains the Gulp task which process the Markdowns. <code class="language-javascript">processFile</code> function inside it is the one which accepts every
            of the files. An instance of <code class="language-javascript">lib/Page.js</code> class is created per Markdown. All the pages need to know about each other so there is a function <code class="language-javascript">getInfo</code> which perform
            a quick reading of the available pages. So, in practice Techy process every file twice. The first time is just to get the defined variables inside and second time to generate the HTML file.</p>
        <h2 id="defining-build-in-page-methods">Defining build-in page methods</h2>
        <p>As we know there are some functions which we may use. Like for example <code class="language-javascript">&lt;% page('somepage').get('name') %></code>. In order to define our own methods we should:</p>
        <div class="grid">
            <ul>
                <li>open <code class="language-javascript">lib/Page.js</code> and attach something to the <code class="language-javascript">api</code> object</li>
                <li>create a new file in <code class="language-javascript">lib/api</code> (it's just a Node.js module which exports a function. That function is called in the context of the current page. So the <code class="language-javascript">this</code> property
                    is pointing to our page. The one which is processing at the moment)</li>
            </ul>
        </div>
        <h2 id="editing-default-css">Editing default CSS</h2>
        <p>Techy by default uses plain CSS. It is in <code class="language-javascript">lib/themes/default/_css</code>.</p>
        <h2 id="editing-default-javascript">Editing default JavaScript</h2>
        <p>It is in <code class="language-javascript">lib/themes/default/_js</code>.</p>
        <h2 id="create-your-own-theme">Create your own theme</h2>
        <p>Just create a new directory in <code class="language-javascript">lib/themes</code>. There should be four sub-folders - <code class="language-javascript">_css</code>, <code class="language-javascript">_js</code>, <code class="language-javascript">public</code>,
            <code
            class="language-javascript">_tpl</code>. Just use the <code class="language-javascript">default</code> theme as a starting point.</p>
        <h2 id="running-tests">Running tests</h2>
        <p>The tests are written in <a href="http://visionmedia.github.io/mocha/">Mocha</a>. Just go to the main repository folder and run:</p>
        <pre><code class="language-javascript">mocha ./tests
</code></pre>
        <hr>
        <p>
            <div class="social">
                <!-- Twitter --><a href="https://twitter.com/share" class="twitter-share-button" data-via="KrasimirTsonev" data-hashtags="Techy">Tweet</a>
                <script>
                    ! function(d, s, id) {
                        var js, fjs = d.getElementsByTagName(s)[0],
                            p = /^http:/.test(d.location) ? 'http' : 'https';
                        if (!d.getElementById(id)) {
                            js = d.createElement(s);
                            js.id = id;
                            js.src = p + '://platform.twitter.com/widgets.js';
                            fjs.parentNode.insertBefore(js, fjs);
                        }
                    }(document, 'script', 'twitter-wjs');
                </script>
                <!-- GitHub -->
                <iframe src="http://ghbtns.com/github-btn.html?user=krasimir&repo=techy&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="100" height="20"></iframe>
            </div>
            <div class="grid footer-small">The page which you are looking right now is also generated with Techy.
                <br />If you are interested, checkout how the code looks like <a href="https://github.com/krasimir/techy/tree/gh-pages">here</a>.
                <br />
                <br />Made with <a href="http://gulpjs.com/">Gulp</a> and <a href="http://absurdjs.com">AbsurdJS</a>.</div>
            <script>
                (function(i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r;
                    i[r] = i[r] || function() {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
                    a.async = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
                ga('create', 'UA-1621908-4', 'krasimir.github.io');
                ga('send', 'pageview');
            </script>
            <a href="https://github.com/krasimir/techy">
                <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67"
                alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png">
            </a>
        </p>
    </div>
    <script src="./../public/prism/prism.js"></script>
    <script src="./../public/absurd.organic.min.js"></script>
    <script src="./../public/absurd.min.js"></script>
    <script src="./../public/scripts.js"></script>
</body>

</html>